(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,a){},131:function(e,t,a){},133:function(e,t,a){},210:function(e,t,a){e.exports=a(330)},215:function(e,t,a){},216:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},232:function(e,t){},234:function(e,t){},273:function(e,t){},274:function(e,t){},330:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o);a(215),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(216);var l,i=a(19),s=a(12),u=a(37),d=a(25),m=a(43),p=a(44),b=a(46),E=(a(221),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:a.props.error},a.handle=function(e){return a.setState(Object(s.a)({},e.target.name,e.target.value))},a.login=function(){(0,a.props.doLogin)({email:a.state.email,password:a.state.password})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,console.log(this.props),r.a.createElement("p",null,"Log-in please"),r.a.createElement("div",{className:"error"},this.props.error),r.a.createElement("div",{className:"message"},this.props.message),r.a.createElement("div",{className:"log-form"},r.a.createElement("input",{required:!0,type:"text",name:"email",onChange:this.handle,placeholder:"email"}),r.a.createElement("input",{required:!0,type:"password",placeholder:"password",name:"password",onChange:this.handle}),r.a.createElement("button",{onClick:function(){return e.login()}},"Login")))}}]),t}(r.a.Component));!function(e){e.DO_LOGIN="DO_LOGIN",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAILED="LOGIN_FAILED"}(l||(l={}));var O="@@login";function f(e){return{type:"".concat(O,"/").concat(l.DO_LOGIN),data:e}}var g,h=Object(i.b)(function(e){return{data:e.login.data}},{doLogin:f})(E),y=(a(222),a(48)),v=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",email:"",password:"",passwordComfirm:"",image:""},a.handle=function(e){return a.setState(Object(s.a)({},e.target.name,e.target.value))},a.register=function(){(0,a.props.doRegister)({login:a.state.login,email:a.state.email,password:a.state.password})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,console.log(this.props),this.props.isRegistred?r.a.createElement(y.a,{to:"/login"}):null,r.a.createElement("p",null,"Register please"),r.a.createElement("div",{className:"error"},this.props.message),r.a.createElement("div",{className:"reg-form"},r.a.createElement("input",{required:!0,type:"text",name:"login",value:this.state.login,onChange:this.handle,placeholder:"login"}),r.a.createElement("input",{required:!0,type:"text",name:"email",value:this.state.email,onChange:this.handle,placeholder:"email"}),r.a.createElement("input",{required:!0,type:"password",placeholder:"password",name:"password",value:this.state.password,onChange:this.handle}),r.a.createElement("input",{required:!0,type:"password",placeholder:"password comfirm",name:"passwordComfirm",value:this.state.passwordComfirm,onChange:this.handle}),r.a.createElement("button",{onClick:function(){return e.register()}},"Login")))}}]),t}(r.a.Component);!function(e){e.DO_REGISTER="DO_REGISTER",e.REGISTER_SUCCESS="REGISTER_SUCCESS",e.REGISTER_FAILED="REGISTER_FAILED"}(g||(g={}));var S="@@register";var k,C,_=Object(i.b)(function(e){return{login:e.register.login,email:e.register.email,password:e.register.password,message:e.register.message,isRegistred:e.register.isRegistred}},{doRegister:function(e){return{type:"".concat(S,"/").concat(g.DO_REGISTER),data:e}}})(v),w=(a(131),a(376)),j=a(378),x=a(379),D=a(382),A=a(381),I=a(380),T=a(383),U=a(331);function R(e){return{type:"".concat(k.ADD_TO_CART),id:e}}!function(e){e.ADD_TO_CART="ADD_TO_CART",e.ADD_TO_CART_SUCCESS="ADD_TO_CART_SUCCESS",e.ADD_TO_CART_FAILED="ADD_TO_CART_FAILED"}(k||(k={})),function(e){e.MOVE_FROM_CART="MOVE_FROM_CART",e.MOVE_FROM_CART_SUCCESS="MOVE_FROM_CART_SUCCESS",e.MOVE_FROM_CART_FAILED="MOVE_FROM_CART_FAILED"}(C||(C={}));var B,N,P,L,F=a(28),M=Object(w.a)({card:{maxWidth:245}}),K=Object(i.b)(null,{addToCart:R})(function(e){var t=M(),a=r.a.forwardRef(function(e,t){return r.a.createElement(F.b,Object.assign({innerRef:t},e))});return r.a.createElement(j.a,{className:"book-wrapper ".concat(t.card)},r.a.createElement(x.a,{component:a,to:{pathname:"/bookInfo",state:{bookInfo:{title:e.title,price:e.price,image:e.img,description:e.description,bookId:e.id}}}},r.a.createElement(I.a,{component:"img",alt:e.title,height:"140",image:e.img,title:e.title}),r.a.createElement(A.a,null,r.a.createElement(U.a,{style:{height:"100px"},gutterBottom:!0,variant:"h5",component:"h2"},e.title),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},e.description))),r.a.createElement("p",null,"Price  - ".concat(e.price)),r.a.createElement(D.a,null,r.a.createElement(T.a,{onClick:function(){return t=e.id,void(0,e.addToCart)(t);var t},size:"small",color:"primary"},"Add to cart")))}),V=a(182),G=a(183),W=a.n(G),H=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],value:""},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/books").then(function(e){return e.json()}).then(function(t){return e.setState(e.state.books=t)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"Try to find a book you need"),r.a.createElement("div",{style:{margin:"20px"}},r.a.createElement(W.a,null),r.a.createElement(V.DebounceInput,{style:{borderTop:"none",borderBottom:"solid 1px",borderLeft:"none",borderRight:"none",width:"250px",outline:"0",padding:"5px"},minLength:2,debounceTimeout:300,onChange:function(t){return e.setState({value:t.target.value})}})),r.a.createElement("div",{className:"home-wrapper"},this.state.books.map(function(t){if(t.title.toLocaleLowerCase().includes(e.state.value.toLocaleLowerCase()))return r.a.createElement(K,{key:t.id,description:t.description,title:t.title,img:t.img,price:"".concat(t.price," USD"),id:t.id})})))}}]),t}(r.a.Component),q=a(7),J=a(2),Q=(a(106),a(406)),z=a(396),X=a(402),Y=a(397),$=a(400),Z=a(3),ee=a(18),te=a(392),ae=a(393),ne=a(389),re=a(387),oe=a(410),ce=a(388),le=a(408),ie=a(390),se=a(194),ue=a(405),de=a(333),me=a(409),pe=a(394),be=a(395),Ee=a(101),Oe=a.n(Ee),fe=a(187),ge=a.n(fe);!function(e){e.SHOW_BOOKS="SHOW_BOOKS",e.SHOW_BOOKS_SUCCESS="SHOW_BOOKS_SUCCESS",e.SHOW_BOOKS_FAILED="SHOW_BOOKS_FAILED"}(B||(B={})),function(e){e.UPDATE_BOOK="UPDATE_BOOK",e.UPDATE_BOOK_SUCCESS="UPDATE_BOOK_SUCCESS",e.UPDATE_BOOK_FAILED="UPDATE_BOOK_FAILED"}(N||(N={})),function(e){e.ADD_BOOK="ADD_BOOK",e.ADD_BOOK_SUCCESS="ADD_BOOK_SUCCESS",e.ADD_BOOK_FAILED="ADD_BOOK_FAILED"}(P||(P={})),function(e){e.MOVE_BOOK="MOVE_BOOK",e.MOVE_BOOK_SUCCESS="MOVE_BOOK_SUCCESS",e.MOVE_BOOK_FAILED="MOVE_BOOK_FAILED"}(L||(L={}));var he=a(404),ye=a(385),ve=a(332),Se=a(184),ke=a.n(Se),Ce=a(386),_e=Object(w.a)(function(e){return Object(Q.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}),we=Object(i.b)(null,{updateBook:function(e,t){return{type:"".concat(N.UPDATE_BOOK),id:e,body:t}}})(function(e){var t=_e(),a=r.a.useState(!1),n=Object(q.a)(a,2),o=n[0],c=n[1],l=function(){c(!1)};return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){c(!0)},style:{padding:"0",border:"none",backgroundColor:"transparent",cursor:"pointer"}},r.a.createElement(ke.a,null)),r.a.createElement(he.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:o,onClose:l,closeAfterTransition:!0,BackdropComponent:ye.a,BackdropProps:{timeout:500}},r.a.createElement(ve.a,{in:o},r.a.createElement("div",{id:"modal-edit",className:t.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Edit Book ID-".concat(e.bookId)),r.a.createElement("p",{id:"transition-modal-description"},'Change data then press "Submit"'),r.a.createElement("div",{className:"inputs-whapper"},r.a.createElement("label",null,"Title"),r.a.createElement(Ce.a,{className:"title".concat(e.bookId),type:"text",defaultValue:e.bookTitle}),r.a.createElement("label",null,"Image"),r.a.createElement("img",{className:"smallImg",onClick:function(e){return"smallImg"===e.target.className?e.target.className="bigImg":e.target.className="smallImg"},id:"book-img".concat(e.imgId),src:e.bookImage}),r.a.createElement(Ce.a,{className:"image".concat(e.bookId),type:"file"}),r.a.createElement("label",null,"Price"),r.a.createElement(Ce.a,{className:"price".concat(e.bookId),type:"text",defaultValue:e.bookPrice}),r.a.createElement("label",null,"Amount"),r.a.createElement(Ce.a,{className:"amount".concat(e.bookId),type:"text",defaultValue:e.bookAmount})),r.a.createElement("label",null,"Description"),r.a.createElement(Ce.a,{className:"description".concat(e.bookId," description"),type:"text",defaultValue:e.bookDescription}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(t){return function(t){var a=document.getElementsByClassName("title".concat(e.bookId))[0].children[0],n=document.getElementsByClassName("price".concat(e.bookId))[0].children[0],r=document.getElementsByClassName("amount".concat(e.bookId))[0].children[0],o=document.getElementsByClassName("description".concat(e.bookId))[0].children[0],c=document.getElementsByClassName("image".concat(e.bookId))[0].children[0].files[0];if(void 0===c)return alert("You forgot to update image");!function(c){var l=new FileReader;l.readAsDataURL(c),l.onload=function(){var c={title:a.value,price:+n.value,amount:r.value,description:o.value,img:l.result};(0,e.updateBook)(t,c)}}(c),setTimeout(function(e){return l()},1e3)}(e.bookId)}},"Submit"))))))}),je=a(185),xe=a.n(je),De=Object(w.a)(function(e){return Object(Q.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}),Ae=Object(i.b)(null,{addBook:function(e){return{type:"".concat(P.ADD_BOOK),body:e}}})(function(e){var t=De(),a=r.a.useState(!1),n=Object(q.a)(a,2),o=n[0],c=n[1],l=function(){c(!1)};return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){c(!0)},style:{padding:"25px",border:"none",backgroundColor:"transparent",cursor:"pointer"}},"Add new Book",r.a.createElement(xe.a,{style:{display:"block",margin:"0 auto"}})),r.a.createElement(he.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:o,onClose:l,closeAfterTransition:!0,BackdropComponent:ye.a,BackdropProps:{timeout:500}},r.a.createElement(ve.a,{in:o},r.a.createElement("div",{id:"modal-edit",className:t.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Add new Book"),r.a.createElement("p",{id:"transition-modal-description"},'Fill the data then press "Submit"'),r.a.createElement("div",{className:"inputs-whapper"},r.a.createElement("label",null,"Title"),r.a.createElement(Ce.a,{className:"title".concat(e.bookId),type:"text"}),r.a.createElement("label",null,"Image"),r.a.createElement("img",{className:"smallImg",onClick:function(e){return"smallImg"===e.target.className?e.target.className="bigImg":e.target.className="smallImg"},src:e.bookImage}),r.a.createElement(Ce.a,{className:"image".concat(e.bookId),type:"file"}),r.a.createElement("label",null,"Price"),r.a.createElement(Ce.a,{className:"price".concat(e.bookId),type:"text"}),r.a.createElement("label",null,"Amount"),r.a.createElement(Ce.a,{className:"amount".concat(e.bookId),type:"text"})),r.a.createElement("label",null,"Description"),r.a.createElement(Ce.a,{className:"description".concat(e.bookId," description"),type:"text"}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(t){return function(){var t=document.getElementsByClassName("title".concat(e.bookId))[0].children[0],a=document.getElementsByClassName("price".concat(e.bookId))[0].children[0],n=document.getElementsByClassName("amount".concat(e.bookId))[0].children[0],r=document.getElementsByClassName("description".concat(e.bookId))[0].children[0];!function(o){var c=new FileReader;c.readAsDataURL(o),c.onload=function(){var o={title:t.value,price:+a.value,amount:n.value,description:r.value,img:c.result};(0,e.addBook)(o)}}(document.getElementsByClassName("image".concat(e.bookId))[0].children[0].files[0]),setTimeout(function(e){return l()},1e3)}()}},"Submit"))))))});function Ie(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Te=[{id:"title",numeric:!1,disablePadding:!0,label:"Book Title"},{id:"amount",numeric:!0,disablePadding:!1,label:"Pieces"},{id:"price",numeric:!0,disablePadding:!1,label:"Usd"}];function Ue(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,o=e.orderBy,c=e.numSelected,l=e.rowCount,i=e.onRequestSort;return r.a.createElement(re.a,null,r.a.createElement(ce.a,null,r.a.createElement(ne.a,{padding:"checkbox"},r.a.createElement(ue.a,{indeterminate:c>0&&c<l,checked:c===l,onChange:a,inputProps:{"aria-label":"select all desserts"}})),Te.map(function(e){return r.a.createElement(ne.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:o===e.id&&n},r.a.createElement(le.a,{active:o===e.id,direction:n,onClick:(a=e.id,function(e){i(e,a)})},e.label,o===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a})))}var Re,Be,Ne,Pe=Object(w.a)(function(e){return Object(Q.a)({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ee.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}})}),Le=function(e){var t=Pe(),a=e.numSelected,n=e.moveFunc;return r.a.createElement(ie.a,{className:Object(Z.a)(t.root,Object(s.a)({},t.highlight,a>0))},r.a.createElement("div",{className:t.title},a>0?r.a.createElement(U.a,{color:"inherit",variant:"subtitle1"},a," selected"):r.a.createElement(U.a,{variant:"h6",id:"tableTitle"},"Full list of Books")),r.a.createElement("div",{className:t.spacer}),r.a.createElement("div",{className:t.actions},a>0?r.a.createElement(me.a,{title:"Delete"},r.a.createElement(de.a,{onClick:function(e){return n()},"aria-label":"delete"},r.a.createElement(Oe.a,null))):r.a.createElement(me.a,{title:"Filter list"},r.a.createElement(de.a,{"aria-label":"filter list"},r.a.createElement(ge.a,null)))))},Fe=Object(w.a)(function(e){return Object(Q.a)({root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})}),Me=Object(i.b)(function(e){return{books:e.showBooks.Books}},{moveBook:function(e){return{type:"".concat(L.MOVE_BOOK),body:e}}})(function(e){var t=Fe(),a=r.a.useState("asc"),n=Object(q.a)(a,2),o=n[0],c=n[1],l=r.a.useState("amount"),i=Object(q.a)(l,2),s=i[0],u=i[1],d=r.a.useState([]),m=Object(q.a)(d,2),p=m[0],b=m[1],E=r.a.useState(0),O=Object(q.a)(E,2),f=O[0],g=O[1],h=r.a.useState(!1),y=Object(q.a)(h,2),v=y[0],S=y[1],k=r.a.useState(5),C=Object(q.a)(k,2),_=C[0],w=C[1],j=e.books;var x=_-Math.min(_,j.length-f*_);return r.a.createElement("div",{className:t.root},r.a.createElement(se.a,{className:t.paper},r.a.createElement(Le,{moveFunc:function(){var t=p;(0,e.moveBook)(t)},removeAll:j.length,numSelected:p.length}),r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(te.a,{className:t.table,"aria-labelledby":"tableTitle",size:v?"small":"medium"},r.a.createElement(Ue,{classes:t,numSelected:p.length,order:o,orderBy:s,onSelectAllClick:function(e){if(e.target.checked){var t=j.map(function(e){return e.title});b(t)}else b([])},onRequestSort:function(e,t){c(s===t&&"desc"===o?"asc":"desc"),u(t)},rowCount:j.length}),r.a.createElement(ae.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(j,function(e,t){return"desc"===e?function(e,a){return Ie(e,a,t)}:function(e,a){return-Ie(e,a,t)}}(o,s)).slice(f*_,f*_+_).map(function(e,t){var a,n=(a=e.title,-1!==p.indexOf(a)),o="enhanced-table-checkbox-".concat(t);return r.a.createElement(ce.a,{id:e.id,hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:e.title+e.id,selected:n},r.a.createElement(ne.a,{padding:"checkbox"},r.a.createElement(ue.a,{onClick:function(t){return function(e,t){var a=p.indexOf(t),n=[];-1===a?n=n.concat(p,t):0===a?n=n.concat(p.slice(1)):a===p.length-1?n=n.concat(p.slice(0,-1)):a>0&&(n=n.concat(p.slice(0,a),p.slice(a+1))),b(n)}(0,e.title)},checked:n,id:"".concat(e.id,"-bookRow"),inputProps:{"aria-labelledby":o}})),r.a.createElement(ne.a,{component:"th",id:o,scope:"row",padding:"none"},e.title),r.a.createElement(ne.a,{align:"right"},e.amount),r.a.createElement(ne.a,{align:"right"},e.price),r.a.createElement(ne.a,{align:"right"},r.a.createElement(we,{imgId:e.id,bookId:e.id,bookTitle:e.title,bookImage:e.img,bookDescription:e.description,bookPrice:e.price,bookAmount:e.amount})))}),x>0&&r.a.createElement(ce.a,{style:{height:49*x}},r.a.createElement(ne.a,{colSpan:6}))))),r.a.createElement(oe.a,{rowsPerPageOptions:[5,10,25],component:"div",count:j.length,rowsPerPage:_,page:f,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,t){g(t)},onChangeRowsPerPage:function(e){w(+e.target.value),g(0)}})),r.a.createElement(Ae,null),r.a.createElement(pe.a,{control:r.a.createElement(be.a,{checked:v,onChange:function(e){S(e.target.checked)}}),label:"Dense padding"}))});function Ke(){return{type:"".concat(Re.SHOW_USERS)}}!function(e){e.SHOW_USERS="SHOW_USERS",e.SHOW_USERS_SUCCESS="SHOW_USERS_SUCCESS",e.SHOW_USERS_FAILED="SHOW_USERS_FAILED"}(Re||(Re={})),function(e){e.UPDATE_USER="UPDATE_USER",e.UPDATE_USER_SUCCESS="UPDATE_USER_SUCCESS",e.UPDATE_USER_FAILED="UPDATE_USER_FAILED"}(Be||(Be={})),function(e){e.MOVE_USER="MOVE_USER",e.MOVE_USER_SUCCESS="MOVE_USER_SUCCESS",e.MOVE_USER_FAILED="MOVE_USER_FAILED"}(Ne||(Ne={}));var Ve=Object(w.a)(function(e){return Object(Q.a)({root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:650}})}),Ge=Object(i.b)(function(e){return{users:e.showUsers.Users}},{showUsers:Ke,moveUser:function(e){return{type:"".concat(Ne.MOVE_USER),body:e}}})(function(e){var t=Ve(),a=e.users;return r.a.createElement(se.a,{className:t.root},r.a.createElement(te.a,{className:t.table},r.a.createElement(re.a,null,r.a.createElement(ce.a,null,r.a.createElement(ne.a,null,"Remove"),r.a.createElement(ne.a,null,"User Avatar"),r.a.createElement(ne.a,null,"User Email"),r.a.createElement(ne.a,{align:"right"},"User Login"),r.a.createElement(ne.a,{align:"right"},"Admin"))),r.a.createElement(ae.a,null,a.map(function(t){return r.a.createElement(ce.a,{key:"".concat(t.login).concat(t.id)},r.a.createElement(ne.a,{component:"th",scope:"row"},t.isAdmin?null:r.a.createElement(Oe.a,{style:{cursor:"pointer"},onClick:function(a){return n=t.id,void(0,e.moveUser)(n);var n}})),r.a.createElement(ne.a,null,r.a.createElement("img",{style:{maxWidth:"35px"},src:t.img,alt:"".concat(t.login,"image")})),r.a.createElement(ne.a,null,t.email),r.a.createElement(ne.a,null,t.login),r.a.createElement(ne.a,{align:"right"},t.isAdmin?"yes":"no"))}))))});function We(e){var t=e.children,a=e.value,n=e.index,o=Object(J.a)(e,["children","value","index"]);return r.a.createElement(U.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),r.a.createElement($.a,{p:3},t))}function He(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var qe=Object(w.a)(function(e){return Object(Q.a)({root:{flexGrow:1,backgroundColor:e.palette.background.paper}})}),Je=function(e){var t=qe(),a=r.a.useState(0),n=Object(q.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(z.a,{position:"static"},r.a.createElement(X.a,{value:o,onChange:function(e,t){c(t)},"aria-label":"simple tabs example"},r.a.createElement(Y.a,Object.assign({label:"Books"},He(0))),r.a.createElement(Y.a,Object.assign({label:"Users"},He(1))))),r.a.createElement(We,{value:o,index:0},e.books),r.a.createElement(We,{value:o,index:1},e.users))},Qe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.showB=function(){(0,a.props.showBooks)()},a.showU=function(){(0,a.props.showUsers)()},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.showB(),this.showU()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Here suppose to be main information"),r.a.createElement(Je,{books:r.a.createElement(Me,null),users:r.a.createElement(Ge,null)}))}}]),t}(r.a.Component),ze=Object(i.b)(function(e){return{books:e.showBooks.Books,users:e.showUsers.Users}},{showBooks:function(){return{type:"".concat(B.SHOW_BOOKS)}},showUsers:Ke})(Qe),Xe=(a(133),a(192)),Ye=a(407),$e=a(399),Ze=a(5),et=a(188),tt=a.n(et),at=Object(i.b)(function(e){return{bookId:e.addToCart}},{addToCart:R,moveFromCart:function(e){return{type:"".concat(C.MOVE_FROM_CART),id:e}}})(function(e){var t=r.a.useState(null),a=Object(q.a)(t,2),n=a[0],o=a[1];return r.a.createElement("div",{className:e.class},r.a.createElement("div",{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},e.user),r.a.createElement(Xe.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){o(null)}},e.bookId.selectedBooks.map(function(t){return r.a.createElement(Ye.a,{className:"cart-item",key:"".concat(Math.random(),"-key")},r.a.createElement("div",{id:t.id,className:"cart-item-wrapper"},r.a.createElement("button",{onClick:function(a){return n=t.id,void(0,e.moveFromCart)(n);var n},id:"".concat(t.id,"iD"),className:"dec"},"-"),r.a.createElement("p",null," ".concat(t.title,": ").concat(t.price,"usd (").concat(t.quantity,")")),r.a.createElement("button",{onClick:function(a){return n=t.id,void(0,e.addToCart)(n);var n},id:"".concat(t.id,"id"),className:"inc"},"+")))}),r.a.createElement("p",{className:"total"},"Total price: ",e.bookId.selectedBooks.reduce(function(e,t){return e+t.price*t.quantity},0)," $usd")))}),nt=a(398),rt=function(e){var t=r.a.useState(null),a=Object(q.a)(t,2),n=a[0],o=a[1];function c(){o(null)}var l=r.a.forwardRef(function(e,t){return r.a.createElement(F.b,Object.assign({innerRef:t},e))});return r.a.createElement("div",{className:e.class},r.a.createElement(T.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},e.user,r.a.createElement(nt.a,{src:e.imgQQQ,alt:"user-image"})),r.a.createElement(Xe.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:c},r.a.createElement(Ye.a,{component:l,to:"/userInfo",onClick:c},e.my),r.a.createElement(Ye.a,{onClick:c},e.logout)))},ot=Object(Ze.a)(function(e){return{badge:{top:"50%",right:-3,border:"2px solid ".concat("light"===e.palette.type?e.palette.grey[200]:e.palette.grey[900])}}})($e.a),ct=Object(i.b)(function(e){return{addToCart:e.addToCart}})(function(e){var t=e.addToCart.selectedBooks.reduce(function(e,t){return e+t.quantity},0);return r.a.createElement(de.a,{"aria-label":"cart"},r.a.createElement(ot,{badgeContent:t,color:"primary"},r.a.createElement(tt.a,null)))}),lt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:""},a.toggleClass=function(e){var t=document.querySelectorAll(".link"),a=!0,n=!1,r=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){o.value.className="link"}}catch(l){n=!0,r=l}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}e.target.className="link active"},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,this.props.isAdmin?r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{onClick:function(t){return e.toggleClass(t)},className:"link"},r.a.createElement(F.b,{to:"home-admin"},"Home Admin")),r.a.createElement(rt,{imgQQQ:this.props.userImage,class:"welcome",my:"My Account",user:r.a.createElement("div",{className:"logout"},"Welcome ".concat(this.props.email)),logout:r.a.createElement("div",{className:"logout",onClick:function(){localStorage.clear(),window.location.reload(),window.location.href="/login"}},"Logout")}),r.a.createElement(y.a,{to:"/home-admin"})):this.props.isLoggedIn?r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{onClick:function(t){return e.toggleClass(t)},className:"link"},r.a.createElement(F.b,{to:"home"},"Home")),r.a.createElement(at,{class:"cart",user:r.a.createElement(ct,{})}),r.a.createElement(rt,{imgQQQ:this.props.userImage,class:"welcome",my:"My Account",user:"Welcome ".concat(this.props.email),logout:r.a.createElement("div",{className:"logout",onClick:function(){localStorage.clear(),window.location.reload(),window.location.href="/login"}},"Logout")}),r.a.createElement(y.a,{to:"/home"})):r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("li",{onClick:function(t){return e.toggleClass(t)},className:"link",key:"register-link"},r.a.createElement(F.b,{to:"register"},"Register")),r.a.createElement("li",{onClick:function(t){return e.toggleClass(t)},className:"link",key:"login-link"},r.a.createElement(F.b,{to:"login"},"Log In")))))}}]),t}(r.a.Component),it=Object(i.b)(function(e){return{data:e.login.data,bookId:e.addToCart.id}})(lt),st=a(9),ut=a.n(st),dt=a(42),mt=a(193),pt=a(189);function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ot={login:"",email:"",password:"",message:"",isRegistred:!1};function ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ft(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ft(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ht={data:{}};function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var St={id:0,selectedBooks:[],qantity:1};var kt=a(190);function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ct(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var wt={Books:[]};function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Dt={Users:[]};var At=Object(dt.combineReducers)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@register/DO_REGISTER":return Et({},e);case"@@register/REGISTER_FAILED":return Et({},e,{message:t.payload.message});case"@@register/REGISTER_SUCCESS":var a=t.payload;return Et({},e,{isRegistred:!0,email:a.email,password:a.password,message:a.message});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@login/DO_LOGIN":return gt({},e);case"@@login/LOGIN_FAILED":return gt({},e,{error:t.payload.error});case"@@login/LOGIN_SUCCESS":return gt({},e,{data:t.payload.data,isLoggedIn:!0});default:return e}},addToCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return vt({},e,{id:e.id});case"ADD_TO_CART_FAILED":return vt({},e,{body:t.payload.body});case"ADD_TO_CART_SUCCESS":var a=t.payload;return vt({},e,{id:a.id,selectedBooks:a.selectedBooks,qantity:a.qantity});case"MOVE_FROM_CART":return vt({},e,{id:e.id});case"MOVE_FROM_CART_FAILED":return vt({},e,{body:t.payload.body});case"MOVE_FROM_CART_SUCCESS":var n=t.payload;return vt({},e,{id:n.id,selectedBooks:n.selectedBooks,qantity:n.qantity});default:return e}},showBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_BOOKS":return _t({},e);case"SHOW_BOOKS_FAILED":return _t({},e,{books:t.payload.books});case"SHOW_BOOKS_SUCCESS":return _t({},e,{Books:t.payload.books});case"UPDATE_BOOK":return _t({},e);case"UPDATE_BOOK_FAILED":return _t({},e,{books:t.payload.books});case"UPDATE_BOOK_SUCCESS":return _t({},e,{Books:t.payload.books});case"ADD_BOOK":return _t({},e);case"ADD_BOOK_FAILED":return _t({},e,{books:t.payload.books});case"ADD_BOOK_SUCCESS":return _t({},e,{Books:t.payload.books});case"MOVE_BOOK":return _t({},e);case"MOVE_BOOK_FAILED":return Object(kt.a)(t.payload),_t({},e);case"MOVE_BOOK_SUCCESS":return _t({},e,{Books:t.payload.books});default:return e}},showUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_USERS":return xt({},e);case"SHOW_USERS_FAILED":return xt({},e,{users:t.payload.users});case"SHOW_USERS_SUCCESS":return xt({},e,{Users:t.payload.users});case"UPDATE_USER":return xt({},e);case"UPDATE_USER_FAILED":return xt({},e,{users:t.payload.users});case"UPDATE_USER_SUCCESS":return xt({},e,{Users:t.payload.users});case"MOVE_USER":return xt({},e);case"MOVE_USER_FAILED":return xt({},e,{users:t.payload.users});case"MOVE_USER_SUCCESS":return xt({},e,{Users:t.payload.users});default:return e}}}),It=a(8);function Tt(e,t){return fetch("http://localhost:3200/v1/register",{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})}var Ut=ut.a.mark(Rt);function Rt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("@@register/DO_REGISTER",ut.a.mark(function e(t){var a,n,r,o,c,l;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.data,n=a.login,r=a.email,o=a.password,c={img:"https://i0.wp.com/www.winhelponline.com/blog/wp-content/uploads/2017/12/user.png?fit=256%2C256&quality=100&ssl=1",login:n,email:r,password:o,isAdmin:!1,details:{email:r,address:{country:"No data yet",city:"No data yet",street:"No data yet",house:"No data yet",appartment:"No data yet"},mobile:"No data yet",website:"No data yet"}},e.next=5,Object(It.b)(Tt,"POST",c);case 5:if(!(l=e.sent).success){e.next=11;break}return e.next=9,Object(It.c)({type:"@@register/REGISTER_SUCCESS",payload:{email:c.email,password:c.password,isRegistred:!0,message:l.message}});case 9:e.next=13;break;case 11:return e.next=13,Object(It.c)({type:"@@register/REGISTER_FAILED",payload:{message:l.message}});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),e.next=19,Object(It.c)({type:"@@register/REGISTER_FAILED"});case 19:case"end":return e.stop()}},e,null,[[0,15]])}));case 2:case"end":return e.stop()}},Ut)}function Bt(e,t){return fetch("http://localhost:3200/v1/auth",{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})}var Nt=a(191),Pt=ut.a.mark(Lt);function Lt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("@@login/DO_LOGIN",ut.a.mark(function e(t){var a,n;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(It.b)(Bt,"POST",t.data);case 3:return a=e.sent,e.next=6,Object(It.b)(Nt.verify,a.token,"secret");case 6:if(n=e.sent,console.log(n),!a.succsess){e.next=13;break}return e.next=11,Object(It.c)({type:"@@login/LOGIN_SUCCESS",payload:{data:"decoded"}});case 11:e.next=15;break;case 13:return e.next=15,Object(It.c)({type:"@@login/LOGIN_FAILED",payload:{error:a.message}});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Object(It.c)({type:"@@login/LOGIN_FAILED"});case 21:case"end":return e.stop()}},e,null,[[0,17]])}));case 2:case"end":return e.stop()}},Pt)}var Ft=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}},Mt=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}};function Kt(e,t,a){return fetch("http://localhost:3000/".concat(t),{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()})}var Vt=ut.a.mark(Wt),Gt=ut.a.mark(Ht);function Wt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("ADD_TO_CART",ut.a.mark(function e(t){var a,n,r,o,c,l;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.id,e.next=4,Object(It.b)(Kt,"GET","books");case 4:return n=e.sent,r=n.find(function(e){return e.id===a}),1,r.quantity=1,o=JSON.parse(localStorage.getItem("state")).addToCart.selectedBooks,c=Object.values(o),(l=c.find(function(e){return e.id===r.id}))?l.quantity+=1:c.push(r),e.next=14,Object(It.c)({type:"ADD_TO_CART_SUCCESS",payload:{selectedBooks:c}});case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),e.next=20,Object(It.c)({type:"ADD_TO_CART_FAILED",payload:{error:e.t0.message}});case 20:case"end":return e.stop()}},e,null,[[0,16]])}));case 2:case"end":return e.stop()}},Vt)}function Ht(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("MOVE_FROM_CART",ut.a.mark(function e(t){var a,n,r;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.id,n=Object.values(JSON.parse(localStorage.getItem("state")).addToCart.selectedBooks),(r=n.find(function(e){return e.id===a})).quantity>1?r.quantity-=1:n.splice(n.indexOf(r),1),e.next=7,Object(It.c)({type:"MOVE_FROM_CART_SUCCESS",payload:{selectedBooks:n}});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(It.c)({type:"MOVE_FROM_CART_FAILED",payload:{error:e.t0.message}});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));case 2:case"end":return e.stop()}},Gt)}function qt(e,t,a){return fetch("http://localhost:3000/".concat(t),{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()})}var Jt=ut.a.mark(Yt),Qt=ut.a.mark($t),zt=ut.a.mark(Zt),Xt=ut.a.mark(ea);function Yt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("SHOW_BOOKS",ut.a.mark(function e(t){var a;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(It.b)(qt,"GET","books");case 3:return a=e.sent,e.next=6,Object(It.c)({type:"SHOW_BOOKS_SUCCESS",payload:{books:a}});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(It.c)({type:"SHOW_BOOKS_FAILED",payload:{error:e.t0.message}});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));case 2:case"end":return e.stop()}},Jt)}function $t(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("UPDATE_BOOK",ut.a.mark(function e(t){var a,n,r;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.id,n=t.body,e.next=4,Object(It.b)(qt,"PUT","books/".concat(a),n);case 4:return e.next=6,Object(It.b)(qt,"GET","books");case 6:return r=e.sent,e.next=9,Object(It.c)({type:"UPDATE_BOOK_SUCCESS",payload:{books:r}});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(It.c)({type:"UPDATE_BOOK_FAILED",payload:{error:e.t0.message}});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));case 2:case"end":return e.stop()}},Qt)}function Zt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("ADD_BOOK",ut.a.mark(function e(t){var a,n;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.body,e.next=4,Object(It.b)(qt,"POST","books",a);case 4:return e.next=6,Object(It.b)(qt,"GET","books");case 6:return n=e.sent,e.next=9,Object(It.c)({type:"ADD_BOOK_SUCCESS",payload:{books:n}});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(It.c)({type:"ADD_BOOK_FAILED",payload:{error:e.t0.message}});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));case 2:case"end":return e.stop()}},zt)}function ea(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("MOVE_BOOK",ut.a.mark(function e(t){var a,n,r;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.body,e.next=4,Object(It.b)(qt,"GET","books");case 4:return a=e.sent,n=[],a.map(function(e){t.body.find(function(t){return t==e.title})&&n.push(e.id)}),e.next=9,n.forEach(function(e){return qt("DELETE","books/".concat(e))});case 9:return e.next=11,Object(It.b)(qt,"GET","books");case 11:return r=e.sent,alert("You successfully deleted book"),e.next=15,Object(It.c)({type:"MOVE_BOOK_SUCCESS",payload:{books:r}});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Object(It.c)({type:"MOVE_BOOK_FAILED",payload:{error:e.t0.message}});case 21:case"end":return e.stop()}},e,null,[[0,17]])}));case 2:case"end":return e.stop()}},Xt)}function ta(e,t,a){return fetch("http://localhost:3002/v1/".concat(t),{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()})}var aa=ut.a.mark(oa),na=ut.a.mark(ca),ra=ut.a.mark(la);function oa(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("SHOW_USERS",ut.a.mark(function e(t){var a;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(It.b)(ta,"GET","users");case 3:return a=e.sent,e.next=6,Object(It.c)({type:"SHOW_USERS_SUCCESS",payload:{users:a}});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(It.c)({type:"SHOW_USERS_FAILED",payload:{error:e.t0.message}});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));case 2:case"end":return e.stop()}},aa)}function ca(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("UPDATE_USER",ut.a.mark(function e(t){var a,n;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.id,a=t.body,e.next=4,Object(It.b)(ta,"PUT","users/".concat(t.id),a);case 4:return e.next=6,Object(It.b)(ta,"GET","users");case 6:return n=e.sent,e.next=9,Object(It.c)({type:"UPDATE_USER_SUCCESS",payload:{users:n}});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(It.c)({type:"UPDATE_USER_FAILED",payload:{error:e.t0.message}});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));case 2:case"end":return e.stop()}},na)}function la(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.d)("MOVE_USER",ut.a.mark(function e(t){var a;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.user,e.next=4,Object(It.b)(ta,"DELETE","users/".concat(t.body));case 4:return e.next=6,Object(It.b)(ta,"GET","users");case 6:return a=e.sent,e.next=9,Object(It.c)({type:"MOVE_USER_SUCCESS",payload:{users:a}});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(It.c)({type:"MOVE_USER_FAILED",payload:{error:e.t0.message}});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));case 2:case"end":return e.stop()}},ra)}var ia=Object(w.a)(function(e){return Object(Q.a)({button:{margin:e.spacing(1)},input:{display:"none"}})}),sa=function(e){var t=ia(),a=e.location.state.bookInfo;return r.a.createElement("div",{style:{width:"50%",margin:"-20px auto",backgroundColor:"#f0f8ff",height:"100vh",padding:"100px 50px",boxShadow:"0px 0px 28px 0px"}},r.a.createElement("img",{style:{width:"400px",margin:"0 0 50px 0"},src:a.image,alt:a.title}),r.a.createElement("h1",null,r.a.createElement("span",null,a.title)),r.a.createElement("h2",null,a.price),r.a.createElement("p",{style:{width:"70%",margin:"-40px auto",backgroundColor:"#f0f8ff",padding:"100px 50px",lineHeight:"43px"}},a.description),r.a.createElement("span",null,r.a.createElement(T.a,{variant:"outlined",color:"primary",className:t.button},r.a.createElement(F.b,{style:{textDecoration:"none",color:"inherit"},to:"/home"}," Go Back"))),r.a.createElement("span",null,r.a.createElement(T.a,{onClick:function(){return t=a.bookId,void(0,e.addToCart)(t);var t},variant:"outlined",color:"primary",className:t.button},"Add To Cart")))},ua=Object(i.b)(function(e){return{data:e.login.data,id:e.addToCart.id}},{addToCart:R})(sa),da=a(401),ma=function(e){return r.a.createElement(da.a,{id:"standard-dense",label:e.title,defaultValue:e.value,className:e.class,margin:"dense"})};function pa(){return Math.round(20*Math.random())-10}function ba(){var e=50+pa(),t=50+pa();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Ea=Object(w.a)(function(e){return Object(Q.a)({paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}),Oa=function(e){var t=Ea(),a=r.a.useState(ba),n=Object(q.a)(a,1)[0],o=r.a.useState(!1),c=Object(q.a)(o,2),l=c[0],i=c[1];return r.a.createElement("div",null,r.a.createElement("button",{style:{padding:"0",margin:"0",backgroundColor:"#d1dfec",border:"none",width:"100px",height:"30px",cursor:"pointer"},type:"button",onClick:function(){i(!0)}},"Change Details"),r.a.createElement(he.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:function(){i(!1)}},r.a.createElement("div",{style:n,className:t.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Details will be updated automaticaly during typing in textareas"),e.userDetails.map(function(e){return r.a.createElement(ma,{class:"text-area-details".concat(Object.keys(e)),key:"".concat(Object.values(e),"+").concat(Object.keys(e)),value:Object.values(e),title:Object.keys(e)})}),r.a.createElement("button",{style:{position:"absolute",right:"20px",bottom:"23px",backgroundColor:"#d1dfec",border:"none",width:"100px",height:"30px",cursor:"pointer"},onClick:e.doAction},"Submit"))))},fa=Object(w.a)(function(e){return Object(Q.a)({button:{margin:e.spacing(1)},input:{display:"none"}})}),ga=function(e){var t=fa(),a=e;return r.a.createElement("div",{style:{width:"50%",margin:"-20px auto",backgroundColor:"#f0f8ff",height:"100vh",padding:"100px 50px",boxShadow:"0px 0px 28px 0px"}},r.a.createElement("img",{style:{width:"400px",margin:"0 0 50px 0"},src:a.userinfo.userImage,alt:"userImage"}),r.a.createElement("h1",null,r.a.createElement("span",null,a.userinfo.details.email)),r.a.createElement("h2",null,a.userinfo.details.mobile),r.a.createElement("p",{style:{width:"70%",margin:"-40px auto",backgroundColor:"#f0f8ff",padding:"100px 50px",lineHeight:"43px"}},r.a.createElement("a",{href:a.userinfo.details.website},a.userinfo.details.website)),r.a.createElement("span",null,r.a.createElement(T.a,{variant:"outlined",color:"primary",className:t.button},r.a.createElement(F.b,{style:{textDecoration:"none",color:"inherit"},to:a.userinfo.isAdmin?"/home-admin":"/home"}," Go Back"))),r.a.createElement("span",null,r.a.createElement(Oa,{doAction:function(t){return function(t){var n=document.getElementsByClassName("text-area-detailsemail")[0].children[1].children[0],r=document.getElementsByClassName("text-area-detailscity")[0].children[1].children[0],o=document.getElementsByClassName("text-area-detailsmobile")[0].children[1].children[0],c=document.getElementsByClassName("text-area-detailswebsite")[0].children[1].children[0],l=document.getElementsByClassName("text-area-detailsstreet")[0].children[1].children[0],i=document.getElementsByClassName("text-area-detailshouse")[0].children[1].children[0],s=document.getElementsByClassName("text-area-detailsappartment")[0].children[1].children[0],u=document.getElementsByClassName("text-area-detailscountry")[0].children[1].children[0],d={img:a.userinfo.userImage,login:a.userinfo.login,email:n.value,password:a.userinfo.password,isAdmin:a.userinfo.isAdmin,details:{email:n.value,address:{country:u.value,city:r.value,street:l.value,house:i.value,appartment:s.value},mobile:o.value,website:c.value}};(0,e.updateUser)(t,d)}(a.userinfo.id)},userDetails:function(){var e=[];for(var t in a.userinfo.details)"address"!==t&&e.push(Object(s.a)({},t,a.userinfo.details[t]));for(var n in a.userinfo.details.address)e.push(Object(s.a)({},n,a.userinfo.details.address[n]));return e}()})))},ha=Object(i.b)(function(e){return{userinfo:e.login}},{doLogin:f,updateUser:function(e,t){return{type:"".concat(Be.UPDATE_USER),id:e,body:t}}})(ga),ya=function(e){var t=Object(mt.a)(),a=[t],n=Object(pt.composeWithDevTools)({})(dt.applyMiddleware.apply(void 0,a)),r=Ft(),o=Object(dt.createStore)(At,r,n);return o.subscribe(function(){Mt({login:o.getState().login,addToCart:o.getState().addToCart})}),t.run(ut.a.mark(function e(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(It.a)([Rt(),Lt(),Wt(),Ht(),Yt(),$t(),Zt(),ea(),oa(),la(),ca()]);case 2:case"end":return e.stop()}},e)})),o}();c.a.render(r.a.createElement(function(){return r.a.createElement(i.a,{store:ya},r.a.createElement(F.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(it,null),r.a.createElement(y.b,{path:"/home",component:H}),r.a.createElement(y.b,{path:"/home-admin",component:ze}),r.a.createElement(y.b,{path:"/login",component:h}),r.a.createElement(y.b,{path:"/register",component:_}),r.a.createElement(y.b,{path:"/bookInfo",component:ua}),r.a.createElement(y.b,{path:"/userInfo",component:ha}))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[210,1,2]]]);
//# sourceMappingURL=main.6113cc7e.chunk.js.map